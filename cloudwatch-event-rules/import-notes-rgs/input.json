{"inputs":{"slack_message_start_training":{"message":"Started training Import Notes Crowd data RGS classification model"},"slack_message_rollback_notification":{"message":"Updating Import Notes endpoint has failed. Rollback to the latest known working version"},"slack_message_finish":{"message":"Done training Import Notes Crowd data RGS classification model"},"slack_message_fail":{"message":"Training Import Notes Crowd data RGS classification model failed, no new model deployed"},"emr_training_data_preparation":{"params":${emr_step_input}},"vectorizing_job":{"params":{"AlgorithmSpecification":{"TrainingImage":"${vectorizing_image}","TrainingInputMode":"File"},"RoleArn":"${sagemaker_training_role_arn}","OutputDataConfig":{"S3OutputPath":"${model_output_path}"},"ResourceConfig":{"InstanceCount":${vectorizing_instance_count},"InstanceType":"${vectorizing_instance_type}","VolumeSizeInGB":100},"TrainingJobName":"import-notes-vectorizer","HyperParameters":{"log_path":"${log_path}","code_version":"v2.6","sagemaker_vectorized_data_path":"${vectorizer_output_data}","sagemaker_vectorizing_phase":"True","sagemaker_training_phase":"False","sagemaker_slack_channel":"CH8GNNVS5","sagemaker_notify_slack_lambda":"${sagemaker_notify_slack_lambda_name}","model_checkpoint":"False","setting_trainable_embedding_layer":"True","vectorizer_chunk_size":"8192","model_batch_size":"8192","model_chunk_shuffle":"True","sagemaker_no_of_training_months":"7"},"InputDataConfig":[{"ChannelName":"train","DataSource":{"S3DataSource":{"S3DataType":"S3Prefix","S3Uri":"${emr_output_data}","S3DataDistributionType":"ShardedByS3Key"}},"CompressionType":"None","RecordWrapperType":"None"},{"ChannelName":"reference","DataSource":{"S3DataSource":{"S3DataType":"S3Prefix","S3Uri":"${embedding_path}","S3DataDistributionType":"FullyReplicated"}},"CompressionType":"None","RecordWrapperType":"None"}],"StoppingCondition":{"MaxRuntimeInSeconds":129600}}},"training_job":{"params":{"AlgorithmSpecification":{"TrainingImage":"${training_image}","TrainingInputMode":"File"},"RoleArn":"${sagemaker_training_role_arn}","OutputDataConfig":{"S3OutputPath":"${model_output_path}"},"ResourceConfig":{"InstanceCount":${training_instance_count},"InstanceType":"${training_instance_type}","VolumeSizeInGB":100},"TrainingJobName":"import-notes-training","HyperParameters":{"log_path":"${log_path}","sagemaker_vectorizing_phase":"False","sagemaker_training_phase":"True","sagemaker_slack_channel":"CH8GNNVS5","model_verbose":"1","model_checkpoint":"False","lstm_epochs":"30","min_acceptable_top1_acc":"0.34","min_acceptable_top3_acc":"0.53","setting_trainable_embedding_layer":"True","vectorizer_chunk_size":"8192","model_batch_size":"8192","model_chunk_shuffle":"True","code_version":"v2.6","sagemaker_no_of_training_months":"7"},"InputDataConfig":[{"ChannelName":"sagemaker_vectorized_data","DataSource":{"S3DataSource":{"S3DataType":"S3Prefix","S3Uri":"${vectorizer_output_data}","S3DataDistributionType":"ShardedByS3Key"}},"CompressionType":"None","RecordWrapperType":"None"},{"ChannelName":"reference","DataSource":{"S3DataSource":{"S3DataType":"S3Prefix","S3Uri":"${embedding_path}","S3DataDistributionType":"FullyReplicated"}},"CompressionType":"None","RecordWrapperType":"None"}],"StoppingCondition":{"MaxRuntimeInSeconds":129600}}},"endpoint_configuration":{"EndpointConfigName":"import-notes-model","ProductionVariants":[{"VariantName":"variant-name-1","ModelName":"","InitialInstanceCount":${initial_prediction_instance_count},"InstanceType":"${prediction_instance_type}"}],"Tags":[{"Key":"Project","Value":"Import Notes"}]},"endpoint":{"EndpointName":"${endpoint_name}"},"invoke_endpoint":{"EndpointName":"${endpoint_name}","RequestBody":"[{\"ReferenceId\":\"3\",\"AmountFC\":\"500.0\",\"ImportNote\":\"nl10rabo011223312 a aa priveopname\",\"MaxSuggestion\":3,\"ActiveRGS\":[\"BEivKapPro\",\"BSchBtwAtd\",\"WBedAdlBan\",\"WOmzNohOlh\",\"WBedAutAsa\",\"WBedAutMot\",\"WBedVkkRea\",\"WBedEemKai\",\"WKprIebIeb\",\"BSchOpaNtb\"]}]"},"model_params":{"Image":"${prediction_image}","ExecutionRoleArn":"${sagemaker_prediction_role_arn}"},"endpoint_auto_scaling":{"EndpointName":"${endpoint_name}","VariantName":"variant-name-1","MinCapacity":"${autoscaling_min_value}","MaxCapacity":"${autoscaling_max_value}","RoleARN":"${autoscaling_role_arn}","IsEnabled": ${is_autoscaling_enabled}}}}